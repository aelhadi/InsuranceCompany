
<!DOCTYPE html>
<html ng-app="app">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="initial-scale=1, width=device-width" />
	<title>AngularJS Material Steppers</title>
	<!-- Angular Material style sheet -->
	<link rel="stylesheet" href="/bower_components/angular-material/angular-material.min.css">


	<link rel="stylesheet" href="//fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700,400italic">
	<link rel="stylesheet" href="./assets/style.css" />
	<link rel="stylesheet" href="./assets/bootstrap.css" />
	<link rel="stylesheet" href="/bower_components/md-steppers/dist/md-steppers.css">
	
</head>

<body ng-controller="MainCtrl as vm" layout="row" >


	
  <md-content flex="nogrow" style="width: 100%; ">
	<br />
	<md-toolbar>
		<div class="md-toolbar-tools">
	<!--     <md-button aria-label="Go Back">
			Go Back
			</md-button> -->
			<h2>
			<span>{{ 'INSURANCE_WIZARD' | translate }}</span>
			</h2>
			<span flex></span>
			<md-button class="md-raised" aria-label="English" ng-click="changeLanguage('en')" >
			<md-icon md-svg-icon="images/us.svg"></md-icon>
			English
			</md-button>
			<md-button class="md-raised" aria-label="Serbian" ng-click="changeLanguage('srb')" >
			<md-icon md-svg-icon="images/rs2.svg"></md-icon>
			Srpski
			</md-button>
		</div>
		</md-toolbar>
		<br />
		
					


 <!--   <md-nav-bar md-selected-nav-item="currentNavItem" nav-bar-aria-label="navigation links">
      <md-nav-item md-nav-click="goto('page1')" name="page1"> {{'INSURANCE' | translate} </md-nav-item> -->
  
      <!-- these require actual routing with ui-router or ng-route, so they won't work in the demo
      <md-nav-item md-nav-sref="app.page4" name="page4">Page Four</md-nav-item>
      <md-nav-item md-nav-href="#page5" name="page5">Page Five</md-nav-item>
      -->
   <!-- </md-nav-bar> -->
   		 <div class="ext-content">
 		  </md-content>


	<md-content flex="nogrow" style="width: 70%; margin: 40px auto">
		<div>
			<md-card>
				<md-toolbar>
					<div class="md-toolbar-tools">
						<h2>
							<span>{{ 'INSURANCE' | translate }}</span>
						</h2>
					</div>
				</md-toolbar>
				<md-stepper-card-content class="md-no-padding">
					<md-steppers md-dynamic-height md-disable-tabs-behavior="true" md-stretch-steppers="always" md-selected="vm.selectedStep" md-busy-text="'Processing...'" md-busy="vm.showBusyText">

						<md-step label="{{'CHOOSE' | translate }}" >
							<md-step-body>
								<form name="step1" ng-submit="vm.submitCurrentStep()" ng-click="savePolicy()" novalidate>

									<md-content md-theme="docs-dark"  >
										<div>
											<md-input-container class="md-block" flex-gt-sm>
												<label>{{ 'TYPEOFTRAVEL' | translate }}</label>
												<md-select ng-model="vm.polisa.vrstaPutovanja" required>
													<md-option  value="porodicno" >
														{{ 'FAMILY' | translate }}
													</md-option>
													<md-option  value="pojedinacno">
														{{ 'SELF' | translate }}
													</md-option>
												</md-select>
											</md-input-container>

											<div ng-show="vm.polisa.vrstaPutovanja=='porodicno'">
												<md-input-container >
													<label>{{ 'ADULT' | translate }}</label>
													<input type ="number" ng-model="vm.polisa.brOdraslih" min=1>
												</md-input-container>
												<md-input-container>
													<label>{{ 'KIDS' | translate }}</label>
													<input type ="number" ng-model="vm.polisa.brDece" min=0 >
												</md-input-container>
											</div>
											<md-input-container class="md-block" flex-gt-sm>
												<label>{{ 'PURPOSE' | translate }}</label>
												<md-select ng-model="vm.polisa.tip" required>
													<md-option  value="turisticki">
														{{ 'TOURIST' | translate }}
													</md-option>
													<md-option  value="sport">
														{{ 'SPORT' | translate }}
													</md-option>
													<md-option  value="poslovno">
														{{ 'BUSINESS' | translate }}
													</md-option>
												</md-select>
											</md-input-container>
										</div>
									</md-content>

									<md-content layout-padding>
										<div>
											<div layout-gt-xs="row">
												<md-input-container class="md-block" flex-gt-sm>
													<label>{{ 'STATE' | translate }}</label>
													<md-select ng-model="vm.polisa.drzava" required>
														<md-option ng-repeat="state in states" value="{{state.abbrev}}">
															Engleska
														</md-option>
														<md-option  value="Srbija">
															Srbija
														</md-option>
														<md-option  value="Bosna">
															Bosna i Hercegovina
														</md-option>
														<md-option  value="Engleska">
															Engleska
														</md-option>
													</md-select>
												</md-input-container>
												<md-input-container>
													<input type="date" ng-model="vm.polisa.datum" placeholder="{{'DATE' |translate}}" required min-date="minDate" max-date="maxDate" />
												</md-input-container>
												<md-input-container>
													<label>{{ 'DAYS' | translate }}</label>
													<input type ="number" ng-model="vm.polisa.brDana" min=1>
												</md-input-container>
											</div>													
										</div>
									</md-content>
									<md-step-actions layout="row">
										<div flex layout="row" layout-align="end top">
											<md-button class="md-warn">{{ 'CANCEL' | translate }}</md-button>
											<md-button type="submit"  class="md-primary md-raised">{{ 'NEXT' | translate }}</md-button>
										</div>
									</md-step-actions>
								</form>
							</md-step-body>
						</md-step>

						<md-step label="{{ 'PACKAGE' | translate }}" >
							<md-step-body>
								<form name="step2" ng-submit="vm.submitCurrentStep()" ng-cloak novalidate>
									<md-radio-group ng-model="vm.polisa.paket">
										<table class="table">

											<tr>
												<td>{{ 'OFFER' | translate }}</td>
												<td>{{ 'PRICE' | translate }}</td>
											</tr>
											<tr>
												<td><p>{{ 'PACKAGE1' | translate }}</p></td>
												<td>
													<md-radio-button value="1,000.00" /><br/>
													<p>1000,00 rsd</p>
												</td>
											</tr>
											<tr>
												<td><p>{{ 'PACKAGE2' | translate }}</p></td>
												<td>
													<md-radio-button value="2,000.00" /><br/>
													<p>2000,00 rsd</p>
												</td>
											</tr>
											<tr>
												<td><p>{{ 'PACKAGE3' | translate }}</p></td>
												<td>
													<md-radio-button value="3,000.00" /><br/>
													<p>3000,00 rsd</p>
												</td>

											</tr>

										</table>
										<md-step-actions layout="row">
				
												<div flex layout="row" layout-align="end top">
													<md-button class="md-warn" ng-click="vm.moveToPreviousStep()">{{ 'PREVIOUS' | translate }}</md-button>
													<md-button type="submit"  class="md-primary md-raised">{{ 'NEXT' | translate }}</md-button>
												</div>
											</md-step-actions>
										</md-radio-group>
									</form>
								</md-step-body>
							</md-step>



							<md-step label="{{ 'INFO' | translate }}" >
								<md-step-body>
									<form name="step3" ng-submit="vm.submitCurrentStep()" novalidate ng-cloak >
										<div  layout="column" ng-cloak class="md-inline-form">

												<md-content md-theme="docs-dark" layout-gt-sm="row" layout-padding>
													<label>{{ 'USER' | translate }} 1</label>
													<div>
														<md-input-container class="md-block" flex-gt-sm>
															<label>{{ 'NAME' | translate }}</label>
															<input type="text" ng-model="userMain.name" required/>
														</md-input-container >
														<md-input-container class="md-block" flex-gt-sm>
															<label>{{ 'SURNAME' | translate }}</label>
															<input type="text" ng-model="userMain.prezime" required/>
														</md-input-container>
														<md-input-container >
															<label>{{ 'DATEBIRTH' | translate }}</label>
															<input type="date" ng-model="userMain.myDate" placeholder="{{ 'DATEBIRTH' | translate }}" min-date="minDate" max-date="maxDate" required/>
														</md-input-container>
														<md-input-container class="md-block" flex-gt-sm>
															<label>{{ 'PASSPORT' | translate }}</label>
															<input type="text" ng-model="userMain.pasos" required/>
														</md-input-container>
														<md-input-container class="md-block" flex-gt-sm>
															<label>JMBG</label>
															<input type="text" ng-model="userMain.jmbg" required/>
														</md-input-container>
														<md-input-container class="md-block" flex-gt-sm>
															<label>{{ 'SEX' | translate }}</label>
															<md-select ng-model="userMain.pol" required>
																<md-option value="musko">{{ 'MALE' | translate }}</md-option>
																<md-option value="zensko">{{ 'FEMALE' | translate }}</md-option>
																<md-option value="other">{{ 'OTHER' | translate }}</md-option>
															</md-select>
														</md-input-container>
														<md-input-container class="md-block" flex-gt-sm>
															<label>Email</label>
															<input type="email" ng-model="userMain.email" required/>
														</md-input-container>
													</div>
													<div ng-repeat="user in vm.listaKorisnika track by $index">
													<user-info-directive></user-info-directive>
													</div>
												</md-content>
											
										</div>

									

										<md-step-actions layout="row">										
											<div flex layout="row" layout-align="end top">
												<md-button class="md-warn" ng-click="vm.moveToPreviousStep()">{{ 'PREVIOUS' | translate }}</md-button>
												<md-button type="submit"  class="md-primary md-raised">{{ 'NEXT' | translate }}</md-button>
											</div>
										</md-step-actions>


										</form>
									</md-step-body></md-step>

									<md-step label="{{ 'PAYMENT' | translate }}" md-complete="vm.stepData[3].data.completed" ng-disabled="vm.stepProgress < 4">
										<md-step-body>
											<form name="step4" >
												<md-content class="md-padding">
													<policy-review-directive></policy-review-directive>
													<div id="paypal-button"></div>
												</md-content>


												<md-step-actions layout="row">
												<div flex>
													<md-button class="md-warn" ng-click="vm.moveToPreviousStep()">{{ 'PREVIOUS' | translate }}</md-button>
													<md-button  >{{ 'FINISH' | translate }}</md-button>
													</md-step-actions>
												</form>
											</md-step-body>
										</md-step>
									</md-steppers>
								</md-stepper-card-content>
							</md-card>
						</div>
					</md-content>
    </div>
 

			
					<script src="https://www.paypalobjects.com/api/checkout.js" data-version-4></script>
					<!-- Angular Material requires Angular.js Libraries -->
					<script src="/bower_components/angular/angular.min.js"></script>
					<script src="/bower_components/angular-animate/angular-animate.min.js"></script>
					<script src="/bower_components/angular-aria/angular-aria.min.js"></script>
					<script src="/bower_components/angular-messages/angular-messages.min.js"></script>

					<!-- Angular Material Library -->
					<script src="/bower_components/angular-material/angular-material.min.js"></script>
					<script src="/bower_components/angular-ui-router/release/angular-ui-router.min.js"></script>


					<!-- Your application bootstrap  -->
					<script src="/bower_components/md-steppers/dist/md-steppers.js"></script>
					<script src="/bower_components/angular-translate/angular-translate.min.js"></script>

					<script src="/app/app.module.js"></script>
					<script src="./app/core/core.module.js"></script>
					<script src="./app/core/core.controller.js"></script>
					<script src="./app/policy/policy.module.js"></script>
					<script src="./app/policy/policyReview.directive.js"></script>
					<script src="./app/policy/userInfo.directive.js"></script>
					<script></script>
				</body>

				</html>
